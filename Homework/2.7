; Написать программу, вычисляющую факториал числа и выводящую этапы вычисления и выводить возможные ошибки

MOV A,0; Произвольное число
CMP A,6
	JAE false
	push A
	push A
	ADD A,48
	MOV [232],A
	MOV [233],33
	MOV [234],61
	POP A
        CMP A,1
	JBE work1
	MOV D,49
	MOV B,235
	MOV C,236       
.loop3:
	MOV [B],D
	MOV [C],42
	DEC A
	JZ finish
	INC D
	ADD B,2
	ADD C,2
	JMP .loop3	
finish:
	MOV [C],61
	POP A
CALL WORK
CALL programm
HLT

programm:
      MOV B, A
      DIV 100
      PUSH A
      MOV A, B
      DIV 10
      MOV C, A
      DIV 10
      MUL 10
      SUB C, A
      PUSH C
      MOV A, B
      DIV 10
      MUL 10
      SUB B, A
      PUSH B
      POP C
      POP B
      POP A
      CMP A,0
      JZ TRECK1
      ADD A,48
      MOV [245],A
      ADD B,48
      MOV [246],B
      ADD C,48
      MOV [247],C
      HLT
TRECK1:
      CMP B,0
      JZ TRECK2
      ADD B,48
      MOV [245],B
      ADD C,48
      MOV [246],C
      HLT
TRECK2:
      ADD C,48
      MOV [245],C
      HLT
	
WORK:
	MOV B,A
 .loop:
	SUB B,1
	JZ return
	MUL B
	JMP .loop
return: RET

work1:
	MOV A,49
	MOV [235],A
	HLT

false:
	JMP start
Data:   DB "Ошибка!!!" 
        DB 0	
start:
	MOV C, Data   
	MOV D, 232	
	          

.loop2:
	MOV A, [C]	
	MOV [D], A	
	INC C
	INC D  
	CMP B, [C]	
	JNZ .loop2
        HLT	
